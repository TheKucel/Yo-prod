(function(e){function t(t){for(var a,o,r=t[0],c=t[1],l=t[2],u=0,m=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,r=1;r<s.length;r++){var c=s[r];0!==n[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},n={app:0},i=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"1c5b":function(e,t,s){"use strict";var a=s("ce4d"),n=s.n(a);n.a},2643:function(e,t,s){"use strict";var a=s("30c8"),n=s.n(a);n.a},"30c8":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isMobile?s("div",{staticClass:"mobile-message"},[e._m(0),e._m(1)]):s("div",{attrs:{id:"app"}},[s("transition",{attrs:{name:"all-animate"}},[e.settingsGet?e._e():s("div",{staticClass:"yo-intro"},[s("transition",{attrs:{name:e.anmSkip?"":"dots"}},[e.animationMass[6]?s("div",{staticClass:"yo-dot f-d",style:e.animationMass[9]?"animation: eyeWink .5s ease-in-out":""}):e._e()]),s("transition",{attrs:{name:e.anmSkip?"":"dots"}},[e.animationMass[6]?s("div",{staticClass:"yo-dot s-d",style:e.settingsGet?"animation: eyeWink .5s ease-in-out":""}):e._e()]),e.animationMass[12]?s("div",{class:"words-block "+(e.anmSkip?"nonAnimate":"")+" "+(e.isThisMode.t&&5==e.page?"team-set":"")},[s("transition",{attrs:{name:e.anmSkip?"skip-animate":"load"}},[e.animationMass[19]&&0==e.page?s("div",{staticClass:"strQuestion enter-set"},[s("div",{staticClass:"top-qst"},[e._v(" Вы у нас уже бывали? ")]),s("div",{staticClass:"enter-options"},[s("div",{staticClass:"yes-enter"},[s("span",[e._v(" Да, и хочу ")]),s("div",{staticClass:"in-btn",on:{click:function(t){return e.showEnterBlocks(1)}}},[e._v("войти")])]),s("div",{staticClass:"no-enter"},[s("span",[e._v(" Нет, но хотелось бы ")]),s("div",{staticClass:"in-btn",on:{click:function(t){return e.showEnterBlocks(2)}}},[e._v("зарегистрироваться")])]),s("div",{staticClass:"or-enter"},[s("span",[e._v(" Анонимный вход ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.nameShow,expression:"nameShow"}],staticClass:"anon-input",attrs:{placeholder:"Введите временный ник",type:"text"},domProps:{value:e.nameShow},on:{input:function(t){t.target.composing||(e.nameShow=t.target.value)}}})])]),s("div",{key:"p1",staticClass:"come-in",style:e.nameShow.length<3?"opacity: .5":"",on:{click:function(t){!(e.nameShow.length<3)&&e.anonNameSend()}}},[e._v(" играть ")])]):e._e(),e.animationMass[19]&&1==e.page?s("div",{staticClass:"strQuestion mode-set"},[s("div",{staticClass:"top-qst"},[e._v("В какой режим поиграем?")]),s("div",{key:"mode0",staticClass:"btn server-btn",on:{click:e.showServer}},[s("span",{on:{mouseout:e.onModeHover,mouseover:function(t){return e.onModeHover("servers",!0)}}},[e._v(" Просмотр серверов ")])]),s("div",{key:"gmodes",staticClass:"chose-mode"},[s("div",{key:"mode1",class:"btn mods-select "+(e.isThisMode.s?"mode-on":""),attrs:{id:"firstE"},on:{click:function(t){return e.setMode("single")}}},[s("span",{on:{mouseout:e.onModeHover,mouseover:function(t){return e.onModeHover("single",!0)}}},[e._v(" Стандарт ")])]),s("div",{key:"mode2",class:"btn mods-select "+(e.isThisMode.e?"mode-on":""),on:{click:function(t){return e.setMode("endless")}}},[s("span",{on:{mouseout:e.onModeHover,mouseover:function(t){return e.onModeHover("endless",!0)}}},[e._v(" Бесконечный ")])]),s("div",{key:"mode3",class:"btn mods-select "+(e.isThisMode.t?"mode-on":""),on:{click:function(t){return e.setMode("tugofwar")}}},[s("span",{on:{mouseout:e.onModeHover,mouseover:function(t){return e.onModeHover("tugofwar",!0)}}},[e._v(" Перетягивание ")])]),s("div",{key:"mode4",class:"btn mods-select "+(e.isThisMode.b?"mode-on":""),attrs:{id:"lastE"},on:{click:function(t){return e.setMode("ironwall")}}},[s("span",{on:{mouseout:e.onModeHover,mouseover:function(t){return e.onModeHover("ironwall",!0)}}},[e._v(" Без ошибок ")])])]),s("transition",{key:"desc",attrs:{name:"hiddenInfo"}},[""!==e.modeHover?s("div",{staticClass:"hidden-info"},["servers"===e.modeHover?s("span",[e._v(" Список открытых и закрытых игр. Найдите или присоеденитесь по номеру к созданной игре. ")]):"ironwall"===e.modeHover?s("span",[e._v(" 60 секунд. Уйма слов, но нет права на ошибку. Нажатие на backspace ничего не даст ( аккуратно, бесит ) ")]):"endless"===e.modeHover?s("span",[e._v(" 30 секунд. Слова восстанавливают таймер, но время убывает всё быстрее и быстрее ")]):"tugofwar"===e.modeHover?s("span",[e._v(' 2 команды. Каждая старается перетянуть "канат" в свою сторону, вводя слова. ')]):s("span",[e._v(" 60 секунд. Куча слов и никаких препятствий. Печатайте пока не закончится время. ")])]):e._e()]),e.isLogined?e._e():s("div",{key:"p-2",staticClass:"come-in back",on:{click:function(t){return e.changePage(-1)}}},[e._v(" вернуться ")]),s("div",{key:"p2",staticClass:"come-in",style:e.isLogined?"width: 81%":"",on:{click:function(t){return e.changePage(1)}}},[e._v(" выбрать ")])],1):e._e(),2==e.page?s("div",{staticClass:"strQuestion mode-set"},[s("div",{staticClass:"top-qst"},[e._v(e._s(e.isThisMode.t?"В этом режиме друзей звать обязательно":"Друзей звать будете?"))]),s("div",{staticClass:"chose-mode-online",style:e.isThisMode.t?"justify-content: center":""},[e.isThisMode.t?e._e():s("div",{key:"ch1",class:"btn "+(e.online?"":"mode-on"),style:e.online?"":"animation: wow2 0.5s",on:{click:function(t){e.online=!1}}},[s("span",[e._v(" Нет :\\ ")])]),s("div",{key:"ch2",class:"btn "+(e.online?"mode-on":""),style:e.online?"animation: wow2 0.5s":"",on:{click:function(t){e.online=!0}}},[s("span",[e._v(" "+e._s(e.isThisMode.t?"Я всеми пальцами за!":"Буду :)")+" ")])])]),s("div",{staticClass:"pesent-img"},[e.online?s("img",{attrs:{src:e.imgSource.groupMode,alt:""}}):s("img",{attrs:{src:e.imgSource.oneMode,alt:""}})]),s("div",{key:"p-2",staticClass:"come-in back",on:{click:function(t){return e.changePage(-1)}}},[e._v(" вернуться ")]),s("div",{key:"p2",staticClass:"come-in",on:{click:function(t){return e.changePage(1)}}},[e._v(" выбрать ")])]):e._e(),e.animationMass[19]&&3==e.page?s("div",{staticClass:"strQuestion mode-set"},[s("div",{staticClass:"top-qst"},[e._v("Может пригласим остальных?")]),s("div",{staticClass:"chose-mode-online",style:e.isThisMode.t?"justify-content: center":""},[s("div",{key:"ch3",class:"btn "+(e.privateSession?"":"mode-on"),style:e.privateSession?"":"animation: wow2 0.5s",on:{click:function(t){e.privateSession=!1}}},[s("span",[e._v(" Зовём всех! "),s("br"),s("p",[e._v("(Публичная сессия)")])])]),s("div",{key:"ch4",class:"btn "+(e.privateSession?"mode-on":""),style:e.privateSession?"animation: wow2 0.5s":"",on:{click:function(t){e.privateSession=!0}}},[s("span",[e._v(" Только по спискам! "),s("br"),s("p",[e._v("(Приватная сессия)")])])])]),s("transition",{attrs:{name:"load"}},[e.privateSession?s("div",{staticClass:"password-set"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordSet,expression:"passwordSet"}],attrs:{placeholder:"Пароль",type:"text"},domProps:{value:e.passwordSet},on:{input:function(t){t.target.composing||(e.passwordSet=t.target.value)}}})]):e._e()]),s("div",{key:"p-2",staticClass:"come-in back",on:{click:function(t){return e.changePage(-1)}}},[e._v(" вернуться ")]),s("div",{key:"p2",staticClass:"come-in",style:e.privateSession&&0===e.passwordSet.length?"opacity: 0.5":"",on:{click:function(t){return e.changePage(1)}}},[e._v(" выбрать ")])],1):e._e(),e.animationMass[19]&&4==e.page?s("div",{staticClass:"strQuestion mode-set"},[s("div",{staticClass:"top-qst"},[e._v(e._s(e.playerGuest?"Присоеденяемся ^_^":"Создаём комнату для вас ^_^"))]),s("div",{staticClass:"holder"},[s("div",{staticClass:"preloader"},e._l(10,(function(e){return s("div",{key:e})})),0)])]):e._e(),e.online&&5==e.page&&!e.isThisMode.t?s("div",{staticClass:"strQuestion source-set"},[s("div",{staticClass:"top-qst"},[e._v("Нажмите чтобы скопировать ссылку, и отправьте вашим соперникам >_<")]),s("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"https://yo-typing.ru/"+e.gameMode+"/"+e.sessionId,expression:"`https://yo-typing.ru/${gameMode}/${sessionId}`",arg:"copy"}],class:"source-send"+(e.copied?" copy-true":""),on:{click:e.copySrc}},[s("img",{attrs:{src:e.imgSource.copy,alt:""}})]),s("div",{key:"p2",staticClass:"come-in",on:{click:function(t){e.settingsGet=!0}}},[e._v(" начать ")]),s("div",{key:"p-2",staticClass:"come-in back",on:{click:function(t){return e.changePage(-1)}}},[e._v(" вернуться ")])]):5==e.page?s("div",{staticClass:"strQuestion source-set team-set-block"},[s("div",{staticClass:"chose-teams-block"},[s("div",{staticClass:"top-qst"},[e._v(" Распределение по командам ")]),s("div",{staticClass:"teams-block"},[s("div",{staticClass:"team-block"},[s("div",{staticClass:"team-name",on:{click:function(t){return e.changeTeam("blue")}}},[e._v(" Синие ")]),s("div",{staticClass:"team-squad"},[s("transition-group",{attrs:{name:"load"}},e._l(e.teams.blue.players,(function(t,a){return s("div",{key:a,staticClass:"team-player"},[e._v(" "+e._s(t.username)+" ")])})),0)],1)]),s("div",{staticClass:"team-block"},[s("div",{staticClass:"team-name",on:{click:function(t){return e.changeTeam("red")}}},[e._v(" Красные ")]),s("div",{staticClass:"team-squad"},[s("transition-group",{attrs:{name:"load"}},e._l(e.teams.red.players,(function(t,a){return s("div",{key:a,staticClass:"team-player"},[e._v(" "+e._s(t.username)+" ")])})),0)],1)])]),s("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"https://yo-typing.ru/"+e.gameMode+"/"+e.sessionId,expression:"`https://yo-typing.ru/${gameMode}/${sessionId}`",arg:"copy"}],class:"invite "+(e.copied?"copy-Animate":""),on:{click:e.copySrc}},[e._v(" "+e._s(e.copied?"а теперь отправьте ссылку другу":"пригласить")+" ")])]),s("div",{key:"p-2",staticClass:"come-in back",on:{click:function(t){return e.changePage(-1)}}},[e._v(" вернуться в меню ")]),s("div",{key:"p2",staticClass:"come-in",on:{click:function(t){e.settingsGet=!0}}},[e._v(" начать ")])]):e._e()])],1):s("div",{staticClass:"yo-letter"},[s("transition",{attrs:{name:"column"}},[e.animationMass[0]?s("div",{staticClass:"column-line"}):e._e()]),s("transition",{attrs:{name:"row"}},[e.animationMass[1]?s("div",{staticClass:"row-line first",style:e.animationMass[11]?"animation: transforming 2s ease-in-out":""}):e._e()]),s("transition",{attrs:{name:"row"}},[e.animationMass[2]?s("div",{staticClass:"row-line second",style:e.animationMass[11]?"animation: transforming 2s ease-in-out":""}):e._e()]),s("transition",{attrs:{name:"row"}},[e.animationMass[3]?s("div",{staticClass:"row-line third",style:e.animationMass[11]?"animation: transforming 2s ease-in-out":""}):e._e()])],1)],1)]),s("transition",{attrs:{name:"load"}},[e.animationMass[22]&&e.nameShow.length>2?s("div",{staticClass:"profile-block"},[s("div",{staticClass:"p-block",on:{click:function(t){e.profileCheck=!e.profileCheck}}},[s("img",{style:e.anonEnter?"filter: invert(1)":"",attrs:{src:e.imgSource.user,alt:"user"}}),s("div",{staticClass:"prifile-name"},[e._v(e._s(e.nameShow))])]),s("transition",{attrs:{name:"profile-btns"}},[e.profileCheck?s("div",{staticClass:"b-block"},[s("div",{staticClass:"btn-profile enter",on:{click:function(t){return e.showEnterBlocks(1)}}},[e._v("вход")]),s("div",{staticClass:"btn-profile register",on:{click:function(t){return e.showEnterBlocks(2)}}},[e._v("регистрация")]),e.anonEnter?e._e():s("div",{staticClass:"btn-profile",on:{click:e.logOut}},[e._v("выход")])]):e._e()])],1):e._e()]),s("ServerView",{ref:"server",on:{connect:e.connectToSession}}),s("transition",{attrs:{name:"load"}},[e.settingsGet?s("playersView",{attrs:{players:e.players,playerGuest:e.playerGuest,online:e.online,gameMode:e.gameMode,gameOver:e.gameOver,sessionId:e.sessionId,settingsGet:e.settingsGet},on:{teamChose:e.backToTeamChose}}):e._e()],1),s("guidBlock",{attrs:{guidShow:e.guidShow},on:{close:function(t){e.guidShow=!1}}}),0!=e.profileEnter?s("AuthElelm",{attrs:{mode:e.profileEnter},on:{closeAuth:e.authDone}}):e._e(),s("gameCore",{attrs:{words:e.words,timer:e.timer,myTeam:e.myTeam,startTimer:e.startTimer,spaceMode:e.spaceMode,points:e.points,blockShow:e.settingsGet,gameStart:e.gameStart,gameOver:e.gameOver,minimize:e.minimize,gameMode:e.gameMode,online:e.online,playerGuest:e.playerGuest,connection:e.connection,ready:e.ready,teams:e.teams,add:e.add},on:{playerReady:e.playerReady,wordsShift:function(t){return e.words.shift()},changeSpaceMode:e.anmOn}}),s("transition",{attrs:{name:"load"}},[e.settingsGet&&!e.gameOver?s("div",{staticClass:"mode-and-name-show"},[e._v(" "+e._s(e.ruMode)+" \\ "+e._s(e.players.length>0?e.players[0].username:"Сломалось")+" ")]):e._e()]),s("LiderBoard",{ref:"leaderBoard",attrs:{nameShow:e.nameShow}}),s("transition",{attrs:{name:"ready"}},[e.settingsGet&&(e.online||e.playerGuest)&&!e.gameOver?s("div",{staticClass:"ready-btn",on:{click:e.playerReady}},[s("transition",{attrs:{name:"count"}},[e.gameStart?e._e():s("div",{staticClass:"toggleButton left"},[s("div",{class:"ready-check "+(!e.ready||e.gameStart?"checked":"")},[s("svg",{attrs:{viewBox:"0 0 44 44"}},[s("path",{attrs:{d:"M14,24 L21,31 L39.7428882,11.5937758 C35.2809627,6.53125861 30.0333333,4 24,4 C12.95,4 4,12.95 4,24 C4,35.05 12.95,44 24,44 C35.05,44 44,35.05 44,24 C44,19.3 42.5809627,15.1645919 39.7428882,11.5937758",transform:"translate(-2.000000, -2.000000)"}})])])])]),s("div",{staticClass:"ready-animate"},[s("transition",{attrs:{name:"r-btn"}},[e.ready&&!e.gameStart&&0==e.countNum?s("div",[e._v("Нe готов")]):e._e()]),s("transition",{attrs:{name:"unr-btn"}},[e.ready||0!=e.countNum?e._e():s("div",[e._v("Готов")])]),s("transition-group",{staticStyle:{display:"flex","justify-content":"center"},attrs:{name:"count"}},[3==e.countNum?s("div",{key:"1",staticClass:"count-elem"},[e._v(" 3 ")]):e._e(),2==e.countNum?s("div",{key:"2",staticClass:"count-elem"},[e._v(" 2 ")]):e._e(),1==e.countNum?s("div",{key:"3",staticClass:"count-elem"},[e._v(" 1 ")]):e._e()]),s("transition",{attrs:{name:"unr-btn"}},[e.ready&&e.gameStart&&0==e.countNum?s("div",{staticClass:"game-begin"},[e._v("Начали")]):e._e()])],1),s("transition",{attrs:{name:"count"}},[e.gameStart?e._e():s("div",{staticClass:"toggleButton"},[s("div",{class:"ready-check "+(!e.ready||e.gameStart?"checked":"")},[s("svg",{attrs:{viewBox:"0 0 44 44"}},[s("path",{attrs:{d:"M14,24 L21,31 L39.7428882,11.5937758 C35.2809627,6.53125861 30.0333333,4 24,4 C12.95,4 4,12.95 4,24 C4,35.05 12.95,44 24,44 C35.05,44 44,35.05 44,24 C44,19.3 42.5809627,15.1645919 39.7428882,11.5937758",transform:"translate(-2.000000, -2.000000)"}})])])])])],1):e._e()]),s("transition",{attrs:{name:"player-out"}},[e.playerLeft.isLeft?s("div",{staticClass:"player-out-block"},[s("div",{staticClass:"out-name"},[e._v(" "+e._s(e.playerLeft.username)+" ")]),s("div",{staticClass:"out-points"},[e._v(" "+e._s(e.playerLeft.score)+" ")])]):e._e()]),s("transition",{attrs:{name:"load"}},[e.gameOver?s("div",{staticClass:"fin-screen"},[s("div",{staticClass:"animate"},[s("div",{staticClass:"typewriter"},[s("div",{staticClass:"slide"},[s("i")]),s("div",{staticClass:"paper"}),s("div",{staticClass:"keyboard"})])]),s("div",{staticClass:"congrats"},[e._v(" "+e._s(e.whatResult)+" ")]),s("div",{staticClass:"more-players"},e._l(e.playersSortByPoints,(function(t,a){return s("div",{key:a,class:"player-elem "+(e.thisPlayer.username==t.username?"white-underline":"")+" "+(e.winnersMass.map((function(e){return e.username})).includes(t.username)?"winner":"")},[s("div",{staticClass:"name"},[t.team?s("div",{class:"team-sign "+t.team}):e._e(),e._v(" "+e._s(t.username)+" "),s("div",{staticClass:"retry-container"},[s("transition",{attrs:{name:"retry"}},[t.voted===e.gameMode?s("img",{staticClass:"retry-icon",attrs:{src:e.imgSource.restart,alt:""}}):e._e()]),s("transition",{attrs:{name:"next"}},[t.voted&&t.voted!==e.gameMode?s("img",{staticClass:"retry-icon",attrs:{src:"static/img/right-arrow.svg",alt:""}}):e._e()])],1)]),s("div",{staticClass:"score-block"},[s("div",{staticClass:"speed"},[s("span",{staticClass:"subtext"},[e._v("скорость")]),e._v(e._s(t.speed.toFixed(2))+" ")]),s("div",{staticClass:"points"},[s("span",{staticClass:"subtext"},[e._v("очки")]),e._v(e._s(t.score)+" ")])])])})),0),s("div",{staticClass:"vote-new-mode"},[s("div",{staticClass:"vote-header"},[e._v(" Продолжите, или выберете новый режим ")]),s("transition",{attrs:{name:"showMods"}},[s("div",{staticClass:"mods-vote"},e._l(e.voteMods,(function(t,a){return s("div",{key:a,class:"mode-vote "+(e.maxVotesMod.score==e.modsVotes[t.name]&&e.modsVotes[t.name]>0),on:{click:function(s){return e.setNextMode(t.name)}}},[s("div",[e._v(" "+e._s(t.shName)+" ")]),s("transition",{attrs:{name:"voteCount"}},[0!=e.modsVotes[t.name]?s("div",{staticClass:"vote-count"},[e._v(" "+e._s(e.modsVotes[t.name])+" ")]):e._e()])],1)})),0)])],1),s("div",{staticClass:"set-next-step-buttons"},[s("div",{staticClass:"renew",on:{click:e.showLiderboard}},[e._v("Таблица лидеров")]),s("div",{staticClass:"back-to-menu",on:{click:e.backToMenu}},[e._v("В меню")])])]):e._e()]),s("transition",{attrs:{name:"load"}},[e.animationMass[22]?s("div",{staticClass:"settings-block"},[s("transition",{attrs:{name:"hidden"}},[e.settingsShow?s("div",{staticClass:"hidden-settings"},[s("div",{class:"space-mode "+(e.spaceMode?"space-on":""),on:{click:e.anmOn}},[s("span",{attrs:{title:"Клавиша при нажатии на которую вы хотите отделать слова друг от друга"}},[e._v(e._s(e.spaceMode?"Пробел!":"Enter!"))])]),s("div",{staticClass:"back-to-menu hidden-group",on:{click:e.backToMenu}},[e._v("В меню")])]):e._e()]),s("img",{style:e.settingsShow?"transform: rotateZ(180deg); opacity: 1":"",attrs:{src:e.imgSource.gear,alt:""},on:{click:function(t){e.settingsShow=!e.settingsShow}}})],1):e._e()]),s("transition",{attrs:{name:"load"}},[3==e.profileEnter?s("div",{staticClass:"up-modal-view"},[s("div",{staticClass:"thats-me"},[s("div",{staticClass:"img"},[s("a",{attrs:{href:"https://vk.com/dz_hd"}},[s("img",{attrs:{src:e.imgSource.meVk,alt:""}})])]),s("div",{staticClass:"us-name"},[s("span",[e._v("DZHD")]),s("div",[e._v("FrontEnd")])])]),s("div",{staticClass:"thats-anton"},[s("div",{staticClass:"img"},[s("a",{attrs:{href:"https://vk.com/im_retarded"}},[s("img",{attrs:{src:e.imgSource.AntonVk,alt:""}})])]),s("div",{staticClass:"us-name"},[s("span",[e._v("Antvarf")]),s("div",[e._v("BackEnd")])])]),s("div",{staticClass:"back-to-menu",on:{click:function(t){e.profileEnter=0}}},[e._v(" Назад ")])]):e._e()]),s("transition",{attrs:{name:"load"}},[4==e.profileEnter?s("div",{staticClass:"up-modal-view"},[s("div",{staticClass:"donate-icon"},[s("div",{staticClass:"img"},[s("a",{attrs:{href:"https://www.patreon.com/yo_team_support"}},[s("img",{attrs:{src:"/static/img/1_0syMZ77PxtOiQHK-xK3F3Q.png",alt:""}})])]),s("div",{staticClass:"us-name"},[s("span",[e._v("Patreon")]),s("div",[e._v("На развитие и поддержку")])])]),s("div",{staticClass:"donate-icon donate"},[s("div",{staticClass:"img"},[s("a",{attrs:{href:"https://www.patreon.com/yo_team_support"}},[s("img",{attrs:{src:"/static/img/unnamed.png",alt:""}})])]),s("div",{staticClass:"us-name"},[s("span",[e._v("Donate")]),s("div",[e._v("На развитие и поддержку")])])]),s("div",{staticClass:"back-to-menu",on:{click:function(t){e.profileEnter=0}}},[e._v(" Спасибо :3 ")])]):e._e()]),s("transition",{attrs:{name:"load"}},[e.animationMass[22]?s("div",{staticClass:"info-icon-block"},[s("div",{staticClass:"info-icon",on:{click:function(t){e.iAnm=!e.iAnm}}},[s("div",{class:"upper-dot "+(e.iAnm?"check-i-dot":"")}),s("div",{class:"i-body "+(e.iAnm?"check-i-body":"")})]),s("transition",{attrs:{name:"load"}},[e.iAnm?s("div",{staticClass:"info-slots-block"},[s("div",{staticClass:"info-line"},e._l(e.info,(function(t,a){return s("div",{key:a,staticClass:"info-line-block"},[s("div",{staticClass:"header-i"},[e._v(" "+e._s(t.header)+" ")]),s("div",{staticClass:"main-i",domProps:{innerHTML:e._s(t.main)}})])})),0),s("div",{staticClass:"info-bottom-blocks"},[s("div",{staticClass:"info-b-block",on:{click:function(t){e.profileEnter=4}}},[e._v(" Поддержка ")]),s("div",{staticClass:"info-b-block",on:{click:function(t){e.guidShow=!0}}},[e._v(" Как играть ")]),s("div",{staticClass:"info-b-block",on:{click:function(t){e.profileEnter=3}}},[e._v(" Создатели ")])])]):e._e()])],1):e._e()]),s("transition",{attrs:{name:"hidden-icons"}},[e.settingsShow?s("div",{staticClass:"icons-block"},[s("div",{staticClass:"leaderboard-icon",on:{click:e.showLiderboard}},[s("div",{staticClass:"lb-sters"},[s("div",{staticClass:"lb-ster"}),s("div",{staticClass:"lb-ster"}),s("div",{staticClass:"lb-ster"})])]),s("div",{staticClass:"minimize-icon",attrs:{title:"Режим отображения слов"},on:{click:function(t){e.minimize=!e.minimize}}},e._l(9,(function(t){return s("div",{key:t,class:"words-view "+(e.minimize?"min-words":"")})})),0)]):e._e()])],1)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"yo-letter"},[s("div",{staticClass:"yo-dot f-d"}),s("div",{staticClass:"eyebrow l"}),s("div",{staticClass:"eyebrow r"}),s("div",{staticClass:"yo-dot s-d"}),s("div",{staticClass:"column-line"}),s("div",{staticClass:"row-line first"}),s("div",{staticClass:"row-line second"}),s("div",{staticClass:"row-line third"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sorry-message"},[s("div",{staticClass:"h-sorry"},[e._v(" Только на ПК :( ")]),s("div",{staticClass:"sub-sorry"},[e._v(" К сожалению на данный момент мобильная версия отсутсвует. "),s("br"),e._v(" Но не теряйте надежды, возможно в скором времени у вас удасться опробовать свои силы и на мобильных устройствах. ")]),s("div",{staticClass:"sub-sorry"},[e._v(" А так же загляните на ПК версию как только у вас будет возможность. Надеюсь, вам понравится! ")])])}],o=(s("99af"),s("4de4"),s("d81d"),s("b0c0"),s("ac1f"),s("1276"),s("96cf"),s("1da1")),r=s("2909"),c=s("b85c"),l=s("d4ec"),d=s("bee2"),u=s("ade3"),m=s("bc3a"),h=s.n(m),v=(s("04ac"),s("4160"),s("a15b"),s("fb6a"),s("d3b7"),s("25f0"),s("6062"),s("3ca3"),s("5319"),s("159b"),s("ddb0"),"@mas_A6b7258334b5B0020D1078c24DcABE5d_a"),p="@mas_145dC1da0ede8E020f33263dCE4Dfc33_r",f="@mas_3b0596BCFDd27F01b286FCbBF9988841_lock",g="@mas_779fFe6CC87E48fDd39F47514660543A_r_timestamp",y=2e3,k=function(){function e(){Object(l["a"])(this,e),Object(u["a"])(this,"_scheme","JWT"),Object(u["a"])(this,"_authPath","/api/auth/"),Object(u["a"])(this,"_refreshPath","/api/auth/refresh/"),Object(u["a"])(this,"_logoutPath","/api/users/logout"),Object(u["a"])(this,"_usernameField","username"),Object(u["a"])(this,"_isRefreshLocked",!1),Object(u["a"])(this,"_parsedAccessToken",null),Object(u["a"])(this,"_lastParsedAccessToken",null),Object(u["a"])(this,"_authorizationPromise",null),Object(u["a"])(this,"_autoRefresherTimer",null),Object(u["a"])(this,"_lockPromise",null),Object(u["a"])(this,"_subs",new Set),this.reqMiddleware=this.reqMiddleware.bind(this),this.resMiddleware=this.resMiddleware.bind(this)}return Object(d["a"])(e,[{key:"accessToken",get:function(){return localStorage.getItem(v)||null}},{key:"refreshToken",get:function(){return localStorage.getItem(p)||null}},{key:"parsedAccessToken",get:function(){return null!=this.accessToken&&this.accessToken!=this._lastParsedAccessToken&&(this._parsedAccessToken=this.parseJwtToken(this.accessToken),this._lastParsedAccessToken=this.accessToken),this._parsedAccessToken}},{key:"isAuth",get:function(){return null!=this.accessToken&&1e3*this.parsedAccessToken.exp>Date.now()}},{key:"isAuthInProgress",get:function(){return this.isRefreshLocked||null!=this._authorizationPromise}},{key:"isRefreshLocked",get:function(){return"1"===localStorage.getItem(f)||this._isRefreshLocked}},{key:"lastRefreshTimestamp",get:function(){return parseInt(localStorage.getItem(g)||"0")},set:function(e){localStorage.setItem(g,e.toString())}}]),Object(d["a"])(e,[{key:"init",value:function(){this.isAuth||null==this.refreshToken||""===this.refreshToken?this.isAuth&&null==this._autoRefresherTimer&&this.setupAutoRefresher():this.refreshTokens(),this.setupLockListener()}},{key:"subscribe",value:function(e,t){var s=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1;this.isAuth&&"auth"===e&&(t(),n=!0);var i={event:e,callback:t,initialOnly:a,fired:n};return this._subs.add(i),function(){s._subs.delete(i)}}},{key:"authorize",value:function(e,t){var s,a=this;return h.a.post(this._authPath,(s={},Object(u["a"])(s,this._usernameField,e),Object(u["a"])(s,"password",t),s),{headers:{Accept:"application/json"}}).catch((function(){return 401})).then((function(t){return t.status<400?(a.storeTokens(t.data.access,t.data.refresh),a.lastRefreshTimestamp=Date.now(),a.setupAutoRefresher(),a.dispatch("auth"),localStorage.setItem("name",e),a.log("Authorized as "+e)):a.log("Failed to authorize: ".concat(t.status," ").concat(t.statusText)),t.status}))}},{key:"logout",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{this.lockRefresh(),this.clearTokens(),this.dispatch("logout"),this.releaseRefresh()}catch(t){this.log(t)}case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"refreshTokens",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.isRefreshLocked){e.next=4;break}return this.log("[refreshTokens]: refresh is locked! Aborting refresh..."),e.abrupt("return");case 4:return this.lockRefresh(),e.next=7,h.a.post(this._refreshPath,{refresh:this.refreshToken},{headers:{Accept:"application/json"}});case 7:t=e.sent,t.status<400&&(this.storeTokens(t.data.access,t.data.refresh),this.lastRefreshTimestamp=Date.now(),this.setupAutoRefresher(),this.dispatch("auth"),this.log("Tokens refreshed!")),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.log("[catch] Failed to refresh: "+e.t0.toString());case 14:return e.prev=14,this.releaseRefresh(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[0,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"reqMiddleware",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.authorizationCheck();case 2:return this.isAuth&&(t.headers||(t.headers={}),t.headers["Authorization"]=this._scheme+" "+this.accessToken),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resMiddleware",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"dispatch",value:function(e){var t=this,s=[];this._subs.forEach((function(t){t.initialOnly&&t.fired||t.event!==e||(t.callback(),t.fired=!0,t.initialOnly&&s.push(t))})),s.forEach((function(e){return t._subs.delete(e)}))}},{key:"authorizationCheck",value:function(){var e=this;if(null!=this.refreshToken)return null!=this._authorizationPromise||(this._authorizationPromise=new Promise(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(s,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.checkRefreshLock();case 2:if(!e.isAuth){t.next=6;break}return s(),e._authorizationPromise=null,t.abrupt("return");case 6:if(null!=e.refreshToken&&""!==e.refreshToken){t.next=10;break}return a(new Error("Unauthorized: no refresh token")),e._authorizationPromise=null,t.abrupt("return");case 10:return e.log("Unauthorized! Starting refresh..."),t.prev=11,t.next=14,e.refreshTokens();case 14:s(),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](11),a(t.t0);case 20:return t.prev=20,e._authorizationPromise=null,t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[11,17,20,23]])})));return function(e,s){return t.apply(this,arguments)}}())),this._authorizationPromise}},{key:"parseJwtToken",value:function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(s)}},{key:"storeTokens",value:function(e,t){localStorage.setItem(v,e),localStorage.setItem(p,t)}},{key:"clearTokens",value:function(){localStorage.removeItem(v),localStorage.removeItem(p)}},{key:"setupAutoRefresher",value:function(){var e=this;if(!this.isRefreshLocked&&null==this._autoRefresherTimer){var t=Math.round(5e3*Math.random()),s=1e3*this.parsedAccessToken.exp-Date.now()-5e3-t;this._autoRefresherTimer=setTimeout(Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.log("AutoRefresher is fired"),e.clearAutoRefresher(),!e.isRefreshLocked){t.next=7;break}return e.log("AutoRefresher dismissed (refresh is locked)"),t.abrupt("return");case 7:if(!(Date.now()-e.lastRefreshTimestamp<6e4)){t.next=11;break}return e.log("AutoRefresher dismissed (refresh is locked)"),e.isAuth&&e.setupAutoRefresher(),t.abrupt("return");case 11:return t.next=13,e.refreshTokens();case 13:e.log("AutoRefresher finished work");case 14:case"end":return t.stop()}}),t)}))),s),this.log("AutoRefresher is set for "+s+" ms")}}},{key:"setupLockListener",value:function(){var e=this;window.addEventListener("storage",(function(t){e.log("Storage event"),t.key===f&&e.onRefreshLockToggle(null==t.newValue)})),this.log("Lock listener is set")}},{key:"clearAutoRefresher",value:function(){null!=this._autoRefresherTimer&&(clearTimeout(this._autoRefresherTimer),this._autoRefresherTimer=null)}},{key:"lockRefresh",value:function(){localStorage.setItem(f,"1"),this.onRefreshLockToggle()}},{key:"releaseRefresh",value:function(){localStorage.removeItem(f),this.onRefreshLockToggle(!0)}},{key:"onRefreshLockToggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?(this._isRefreshLocked=!1,this.log("[Lock event]: Released lock"),this.isAuth&&this.setupAutoRefresher()):(this.log("[Lock event]: Locked"),this._isRefreshLocked=!0)}},{key:"checkRefreshLock",value:function(){var e=this;return this.isRefreshLocked?(this.log("Refresh is locked! Awaiting..."),null!=this._lockPromise||(this._lockPromise=new Promise((function(t,s){var a=50,n=0,i=setInterval((function(){e.isRefreshLocked?n>=y&&(clearInterval(i),s(new Error("Refresh timeout")),e._lockPromise=null,e.releaseRefresh()):(e.log("Refresh is released! Resolving..."),clearInterval(i),t(),e._lockPromise=null),n+=a}),a)}))),this._lockPromise):new Promise((function(e){return e()}))}},{key:"log",value:function(e){console.log("[".concat(Date.now(),"]: ").concat(e))}}]),e}(),w=new k;w.init();var _=function(){function e(){Object(l["a"])(this,e)}return Object(d["a"])(e,null,[{key:"getService",value:function(){var e=h.a.create({validateStatus:function(e){return!0}});return e=this.setMiddlewares(e),e=this.addFunctions(e),e}},{key:"setMiddlewares",value:function(e){return e.interceptors.request.use(w.reqMiddleware),e.interceptors.response.use(w.resMiddleware),e}},{key:"addFunctions",value:function(e){return e.isOk=this.isOk,e.formateUrl=this.formateUrl,e}},{key:"isOk",value:function(e){return e.status>=200&&e.status<=302}},{key:"formateUrl",value:function(e){return e}}]),e}(),b=_.getService(),C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"game-block"},[s("div",{staticClass:"top-block"},["tugofwar"!==e.gameMode?s("div",{staticClass:"time-block"},[s("div",{staticClass:"timer",style:"width: "+e.timer/(e.startTimer/100)+"%"})]):s("div",{staticClass:"time-block"},[s("div",{class:"blue-team "+("blue"===e.myTeam?"current-blue-team":""),style:"width: "+e.teams.blue.tickets+"%"}),s("div",{staticClass:"fight-dot"}),s("div",{class:"red-team "+("red"===e.myTeam?"current-red-team":""),style:"width: "+e.teams.red.tickets+"%"})]),s("div",{class:"words-mass-block "+(e.minimize?"minimize-block":"")},e._l(e.wordsMass,(function(t,a){return s("div",{key:a,class:"word "+(e.minimize?"minimize-word":""),on:{click:function(t){return e.anm(t,a)}}},e._l(t,(function(a){return s("div",{key:a.id,class:"letter "+(e.words[0]==t&&a.pos<=e.wordLength&&e.fix?e.match:"empty")},[e._v(e._s(a.lt))])})),0)})),0)]),s("transition",{attrs:{name:"input-data"}},[e.gameOver?e._e():s("div",{staticClass:"some-block"},[e.width>600?s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentInput,expression:"currentInput"}],staticClass:"input-block",attrs:{id:"i-b",autocomplete:"off",type:"text",placeholder:"Введите слово"},domProps:{value:e.currentInput},on:{keydown:e.checkMatch,input:function(t){t.target.composing||(e.currentInput=t.target.value)}}}):e._e(),s("div",{staticClass:"info-block"},[s("div",{class:"what-input "+(e.fix?"":"pressed"),on:{click:e.changeMode}},[e._v(e._s(e.spaceMode?"пробел":"enter"))]),s("div",{staticClass:"points"},[e._v(" Очки : "),s("div",{style:e.add?"animation: wow 0.5s ":""},[e._v(e._s(e.points))])])])])]),e.gameOver?e._e():s("guidMessage",{ref:"startMessage",attrs:{header:"Подождите!",message:"Не так быстро, игра ещё не началась. Подождите пока все игроки будут готовы, а пока приготовьтесь к битве!",position:{x:"320px",y:"200px"}}})],1)},S=[],M=(s("a434"),s("a9e3"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"load"}},[e.show?s("div",{staticClass:"message-body",style:"\n        top: "+e.position.y+"; \n        right: "+e.position.x+";\n        width: "+e.width+"px;\n        ",on:{click:function(t){return e.canIShow(!1,!0)}}},[s("div",{staticClass:"header",style:"font-size: "+(e.fontScale+5)+"px"},[e._v(" "+e._s(e.header)+" ")]),s("div",{staticClass:"message",style:"font-size: "+e.fontScale+"px"},[e._v(" "+e._s(e.message)+" ")])]):e._e()])}),T=[],O={props:{header:{type:String,default:""},selfDestroy:{type:Boolean,default:!0},message:{type:String,default:""},position:{type:Object,default:function(){return{x:0,y:0}}},fontScale:{type:Number,default:12},width:{type:Number,default:280}},data:function(){return{show:!1}},methods:{canIShow:function(e,t){t&&this.$emit("infoShow"),this.show=e}},watch:{show:function(e){var t=this;e&&setTimeout((function(){t.selfDestroy&&t.canIShow(!1)}),7e3)}}},I=O,x=(s("1c5b"),s("2877")),R=Object(x["a"])(I,M,T,!1,null,null,null),P=R.exports,j={props:{words:{type:Array,default:function(){return[]}},spaceMode:{type:Boolean,default:!0},myTeam:{type:String,default:"red"},minimize:{type:Boolean,default:!1},startTimer:{type:Number,default:600},timer:{type:Number,default:600},points:{type:Number,default:0},ready:{type:Boolean,default:!1},add:{type:Boolean,default:!1},connection:{type:WebSocket,default:function(){return{}}},gameOver:{type:Boolean,default:!1},gameStart:{type:Boolean,default:!1},gameMode:{type:String,default:"single"},blockShow:{type:Boolean,default:!1},online:{type:Boolean,default:!1},playerGuest:{type:Boolean,default:!1},teams:{type:Object,default:function(){}}},components:{guidMessage:P},data:function(){return{currentInput:"",width:1e3,fix:!0}},methods:{changeMode:function(e){this.$emit("changeSpaceMode"),this.onReadyFocus()},copyGenerate:function(e){return this.wordsMass[e].map((function(e){return e.lt})).join("")},anm:function(e,t){this.$copyText(this.copyGenerate(t)),"letter"===e.target.classList[0]?(e.target.parentElement.classList.add("animate-word"),setTimeout((function(){e.target.parentElement.classList.remove("animate-word")}),400)):(e.target.classList.add("animate-word"),setTimeout((function(){e.target.classList.remove("animate-word")}),600))},checkMatch:function(e){var t=this;if(!this.gameStart&&(this.online||this.playerGuest))return e.preventDefault(),void this.$refs.startMessage.canIShow(!0);if("Backspace"!==e.key||"ironwall"!==this.gameMode){var s=this.spaceMode?" ":"Enter";if(!this.ready&&!this.online)return this.$emit("playerReady"),void(this.currentInput="");e.key===s&&this.gameStart&&(this.connection.send(JSON.stringify({event:"word",data:this.currentInput.toLowerCase()})),this.fix=!1,setTimeout((function(){t.currentInput="",t.fix=!0}),.1),this.$emit("wordsShift"))}else e.preventDefault()},onReadyFocus:function(){document.getElementById("i-b").focus()}},computed:{wordLength:function(){return this.currentInput.length-1},wordsMass:function(){var e=Object(r["a"])(this.words).splice(0,22);return e},whatPercent:function(){return 10*this.timer/6},match:function(){var e=Object(r["a"])(this.words[0]);return e=e.splice(0,this.currentInput.length),e=e.map((function(e){return e.lt})),this.currentInput.toLowerCase()==e.join("")}},watch:{ready:function(e){e&&this.onReadyFocus()},gameStart:function(e){e&&(this.$refs.startMessage.canIShow(!1),this.onReadyFocus())},gameOver:function(e){e||(this.currentInput="")},blockShow:function(e){e&&this.onReadyFocus()}},mounted:function(){this.width=window.innerWidth}},L=j,A=(s("6d3d"),Object(x["a"])(L,C,S,!1,null,"a11d92b2",null)),E=A.exports,B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-block"},[1==e.mode?s("div",{staticClass:"enter-block"},[s("img",{attrs:{src:"static/img/close.svg",alt:""},on:{click:e.close}}),e._v(" Вход "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"login",placeholder:"Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("div",{staticClass:"on-profile",on:{click:e.authorizePlayer}},[s("div",{class:"enter-btn "+e.clR},[e._v(" войти "),e._m(0),e._v(" "+e._s(3!=e.boiIn?"Добро пожаловать "+e.name:"Данные не верны :(")+" ")])])]):s("div",{staticClass:"enter-block"},[s("img",{attrs:{src:"static/img/close.svg",alt:""},on:{click:e.close}}),e._v(" Регистрация "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"login",placeholder:"Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],attrs:{type:"password",placeholder:"Repeat password"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}}),s("div",{staticClass:"on-profile",on:{click:e.registerNewPlayer}},[s("div",{class:"enter-btn "+e.clR},[e._v(" зарегистрироваться "),e._m(1),e._v(" "+e._s(3!=e.boiIn?"Добро пожаловать "+e.name:"Походу ошибка :(")+" ")])])])])},N=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"arrows"},[s("div",[e._v("↑")]),s("div",{staticStyle:{"animation-delay":"0.1s"}},[e._v("↑")]),s("div",{staticStyle:{"animation-delay":"0.3s"}},[e._v("↑")]),s("div",{staticStyle:{"animation-delay":"0.4s"}},[e._v("↑")]),s("div",{staticStyle:{"animation-delay":"0.5s"}},[e._v("↑")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"arrows"},[s("div",[e._v("↑")]),s("div",{staticStyle:{"animation-delay":"0.1s"}},[e._v("↑")]),s("div",{staticStyle:{"animation-delay":"0.3s"}},[e._v("↑")]),s("div",{staticStyle:{"animation-delay":"0.4s"}},[e._v("↑")]),s("div",{staticStyle:{"animation-delay":"0.5s"}},[e._v("↑")])])}],G={props:{mode:{type:Number,default:1}},data:function(){return{password:"",newPassword:"",boiIn:0,name:""}},methods:{close:function(){this.$emit("closeAuth")},authorizePlayer:function(){var e=this;this.boiIn=1,w.authorize(this.name,this.password).then((function(t){200==t?(e.boiIn=2,setTimeout((function(){e.$emit("closeAuth",e.name)}),2e3)):(e.boiIn=3,setTimeout((function(){e.boiIn=0}),2e3))}))},registerNewPlayer:function(){var e=this,t=this.newPassword===this.password&&this.newPassword;t?(this.boiIn=1,b.post("/api/players/",{username:this.name,password:t}).then((function(t){t.status<300?(e.boiIn=2,e.authorizePlayer()):(e.boiIn=3,setTimeout((function(){e.boiIn=0}),2e3))}))):alert("Пароли не совпадают")}},computed:{clR:function(){return 1==this.boiIn?"load":2==this.boiIn?"done":3==this.boiIn?"error":"none"}}},z=G,$=(s("2643"),Object(x["a"])(z,B,N,!1,null,"4e25099f",null)),H=$.exports,F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"other-users"},[s("transition-group",{attrs:{name:"player-anm"}},[!e.online&&!e.playerGuest||e.gameOver?e._e():s("div",{key:"300",staticClass:"top-set-block"},["tugofwar"===e.gameMode?s("div",{staticClass:"back-to-teams",on:{click:e.backToChose}},[e._v(" Перевыбрать команду ")]):e._e(),s("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"https://yo-typing.ru/"+e.gameMode+"/"+e.sessionId,expression:"`https://yo-typing.ru/${gameMode}/${sessionId}`",arg:"copy"}],class:"invite-someone "+(e.copied?"copy-Animate":""),on:{click:e.copySrc}},[e._v(" "+e._s(e.copied?" Ссылка скопирована :)":"Пригласить ещЁ!")+" ")])]),e._l(e.sortPlayers,(function(e,t){return s("playerBlock",{key:t,attrs:{player:e}})}))],2)],1)},V=[],D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"other-user-block"},[s("div",{class:"team-sign "+e.player.team}),s("transition",{attrs:{name:"ready-set"}},[e.player.ready?s("div",{staticClass:"player-ready"},[s("img",{attrs:{src:"static/img/tick.svg",alt:""}})]):e._e()]),s("div",{staticClass:"player-info"},[s("img",{staticClass:"user-img",style:e.player.anonymous?"filter: invert(1)":"",attrs:{src:"static/img/user.svg",alt:"uset"}}),s("div",{staticClass:"other-u-name"},[e._v(e._s(e.player.username))])]),s("div",{staticClass:"other-score"},[e._v(e._s(e.player.score))])],1)},q=[],J={props:{player:{type:Object,default:function(){}}}},W=J,Q=(s("b64e"),Object(x["a"])(W,D,q,!1,null,"4eedf9f3",null)),U=Q.exports,Z={components:{playerBlock:U},props:{players:{type:Array,default:function(){return[]}},online:{type:Boolean,default:!1},playerGuest:{type:Boolean,default:!1},gameMode:{type:String,default:""},gameOver:{type:Boolean,default:!1},sessionId:{type:String,default:""}},data:function(){return{copied:!1}},methods:{copySrc:function(){var e=this;this.copied=!0,setTimeout((function(){e.copied=!1}),4e3)},backToChose:function(){this.$emit("teamChose")}},computed:{sortPlayers:function(){var e=Object(r["a"])(this.players),t=function(e,t){return t.score-e.score},s=function(e,t){return"red"==e.team?1:-1};return"pushing_to_the_limit"==this.gameMode?e.sort(s):e.sort(t)}}},K=Z,Y=(s("9606"),Object(x["a"])(K,F,V,!1,null,null,null)),X=Y.exports,ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"shadow-modal"}},[e.leaderBoard.show?s("div",{staticClass:"modal-liderboard"},[s("div",{staticClass:"shadow-box",on:{click:function(t){e.leaderBoard.show=!1}}}),s("div",{staticClass:"leaderboard"},[s("div",{staticClass:"lb-header"},[e._v(" Таблица лидеров ")]),s("div",{staticClass:"lb-main"},[s("div",{staticClass:"lb-settings-row"},[s("div",{class:"lb-el num",on:{click:function(t){return e.getLeaderboard(!1,"num")}}},[e._v(" № ")]),s("div",{class:"lb-el "+("username"==e.sortBy?"chosen":""),on:{click:function(t){return e.getLeaderboard(!1,"username")}}},[e._v(" Имена ")]),s("div",{class:"lb-el "+("score"==e.sortBy?"chosen":""),on:{click:function(t){return e.getLeaderboard(!1,"score")}}},[e._v(" Общий счёт ")]),s("div",{class:"lb-el "+("avg_speed"==e.sortBy?"chosen":""),on:{click:function(t){return e.getLeaderboard(!1,"avg_speed")}}},[e._v(" Средняя скорость ")]),s("div",{class:"lb-el "+("best_speed"==e.sortBy?"chosen":""),on:{click:function(t){return e.getLeaderboard(!1,"best_speed")}}},[e._v(" Лучшая скорость ")])]),s("div",{staticClass:"players-lb-mass"},e._l(e.leaderBoard.mass,(function(t,a){return s("div",{key:a,class:"lb-player-block "+(t.username==e.nameShow)},[s("div",{staticClass:"lb-el num"},[e._v(" "+e._s(a+1)+" ")]),s("div",{staticClass:"lb-el"},[e._v(" "+e._s(t.username)+" ")]),s("div",{staticClass:"lb-el"},[e._v(" "+e._s(t.score)+" ")]),s("div",{staticClass:"lb-el"},[e._v(" "+e._s(t.avg_speed.toFixed(2))+" ")]),s("div",{staticClass:"lb-el"},[e._v(" "+e._s(t.best_speed.toFixed(2))+" ")])])})),0)]),s("div",{staticClass:"back-to-menu",on:{click:function(t){e.leaderBoard.show=!1}}},[e._v("Назад")])])]):e._e()])},te=[],se={props:{nameShow:{type:String,default:""}},data:function(){return{sortBy:"score",leaderBoard:{show:!1,mass:[]}}},methods:{getLeaderboard:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1?arguments[1]:void 0;this.sortBy=s,t&&(this.leaderBoard.show=!this.leaderBoard.show),b.get("/api/leaders?orderby="+s).then((function(t){e.leaderBoard.mass=t.data}))}}},ae=se,ne=(s("9846"),Object(x["a"])(ae,ee,te,!1,null,"d24bf23c",null)),ie=ne.exports,oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"shadow-modal"}},[e.showServer?s("div",{staticClass:"modal-block"},[s("div",{staticClass:"shadow-box",on:{click:function(t){e.showServer=!1}}}),s("div",{staticClass:"server-block"},[s("div",{staticClass:"top-qst"},[e._v("Список серверов")]),s("table",{staticClass:"servers-mass",attrs:{id:"tttable"}},[s("tr",{staticClass:"header-server-info-row"},[s("td",{staticClass:"server-column"},[e._v("Название")]),s("td",{staticClass:"server-column"},[e._v("Кол. игроков")]),s("td",{staticClass:"server-column"},[e._v("Режим")]),s("td",{staticClass:"server-column"},[e._v("Доступ")])]),e._l(e.servers,(function(t,a){return s("tr",{key:a,staticClass:"server-info-row",on:{click:function(s){return e.choseElem(s,t)}}},[s("td",{staticClass:"server-column"},[e._v(e._s(t.name))]),s("td",{staticClass:"server-column"},[e._v(e._s(t.players_now))]),s("td",{staticClass:"server-column"},[e._v(e._s(t.mode.rus))]),s("td",{staticClass:"server-column"},[t.private?s("img",{attrs:{src:"/static/img/padlock.svg",alt:""}}):e._e()])])})),s("tr",{staticClass:"server-info-row renew-servers",on:{click:function(t){return e.scrollUp(!1)}}},[s("img",{attrs:{src:"/static/img/restart.svg",alt:""}})])],2),s("div",{class:"bottom-btn "+(e.seletedObj.private?"enter-password":"")},[s("div",{staticClass:"play"},[e.seletedObj.private?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:e.loadError?"password-error":"",attrs:{autocomplete:"new-password",name:"noooo",placeholder:e.placeHolder,type:"password"},domProps:{value:e.password},on:{click:function(t){e.loadError=!1},input:function(t){t.target.composing||(e.password=t.target.value)}}}):s("span",{on:{click:function(t){return e.connectToRoom()}}},[e._v("Играть")])]),s("div",{staticClass:"play-btn",on:{click:function(t){e.seletedObj.private&&e.connectToRoom()}}},[s("img",{attrs:{src:"/static/img/play.svg",alt:""}})])])])]):e._e()])},re=[],ce=s("5530"),le={data:function(){return{servers:[],showServer:!1,searchInput:"",enterPassword:!1,password:"",seletedObj:{},loadError:!1}},methods:{choseElem:function(e,t){this.password="",document.querySelectorAll(".server-info-row").forEach((function(e){return e.classList.remove("server-choosed")})),"server-info-row"===e.target.classList[0]?e.target.classList.add("server-choosed"):e.target.parentElement.classList.add("server-choosed"),this.seletedObj=t},scrollUp:function(){document.querySelector("#tttable").scrollTo({left:0,top:0,behavior:"smooth"}),this.getServersMass(!1)},connectToRoom:function(){this.load=!0,this.$emit("connect",!0,Object(ce["a"])(Object(ce["a"])({},this.seletedObj),{},{password:this.password}))},getServersMass:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s&&(this.password="",this.loadError=!0),t&&(this.showServer=!this.showServer),b.get("/api/sessions/").then((function(t){e.servers=t.data.map((function(e){var t="";switch(e.mode){case"ironwall":t="Без ошибок";break;case"tugofwar":t="Перетягивание";break;case"endless":t="Бесконечный";break;default:t="Стандартный";break}return Object(ce["a"])(Object(ce["a"])({},e),{},{mode:{eng:e.mode,rus:t}})}))}))}},computed:{placeHolder:function(){var e="Играть";return this.seletedObj.private&&(e="Пароль",this.loadError&&(e="Не верные данные")),e}}},de=le,ue=(s("d899"),Object(x["a"])(de,oe,re,!1,null,"ddbb38f2",null)),me=ue.exports,he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"load"}},[e.guidShow?s("div",{staticClass:"up-modal-view"},[s("div",{staticClass:"guid-block"},[s("div",{staticClass:"header-guid-name"},[e._v(" Добро пожаловать в Ё ")]),s("div",{staticClass:"top-guid-text"},[e._v(" Приветствую! Вы, видимо, новенький? Или, может быть, просто хотите освежить память? "),s("br"),e._v(" Так или иначе, здесь вы можете ознакомиться со всем, что есть в нашей игре на данный момент. ")]),s("div",{staticClass:"g-block"},[s("div",{staticClass:"time-block",on:{mouseover:function(t){e.ht="time"}}},[s("div",{staticClass:"timer",style:"width: 100%"})]),s("div",{class:"words-mass-block"},e._l(e.words,(function(t,a){return s("div",{key:a,staticClass:"word",on:{mouseover:function(t){e.ht="word"+a}}},e._l(t,(function(t,a){return s("div",{key:a,class:"letter"+t.k},[e._v(e._s(t.lt))])})),0)})),0),s("div",{staticClass:"some-block"},[s("input",{staticClass:"input-block",attrs:{autocomplete:"off",type:"text",placeholder:"Введите слово"},on:{mouseover:function(t){e.ht="input"}}}),s("div",{staticClass:"info-block"},[s("div",{class:"what-input",on:{mouseover:function(t){e.ht="change"}}},[e._v("пробел")]),s("div",{staticClass:"points",on:{mouseover:function(t){e.ht="score"}}},[e._v(" Очки : "),s("div",[e._v("100")])])])]),s("div",{staticClass:"bottom-hover-guid-text"},[s("div",{staticClass:"hover-guid-msg"},[e._v(" Наведите мыш на элемент интерфейса, чтобы ознакомиться с его назначением ")]),s("div",{staticClass:"left-guid-info",domProps:{innerHTML:e._s(e.hoverText)}})])])]),s("div",{staticClass:"back-to-menu",on:{click:e.close}},[e._v(" Закрыть ")])]):e._e()])},ve=[],pe={props:{guidShow:{type:Boolean,default:!1}},data:function(){return{ht:""}},methods:{close:function(){this.$emit("close")}},computed:{hoverText:function(){var e="";switch(this.ht){case"word0":e="Первое слово в списке. Выделяется жирным шрифтом, поскольку именно его нужно будет печатать в первую очередь";break;case"word1":e="Слово выделяется: <br> * зелёным, если вы вверно вводите слово <br> * красным, как только вы делаете опечатку";break;case"word2":e="Если вы встретили слово, которое не видели ранее в своей жизни, нажмите на него, и тогда оно скопируется в ваш буфер обмена";break;case"input":e="Место для ввода слов, ничего необычного (но в железном режиме стереть ошибку не выйдет)";break;case"change":e="Эта кнопка позволяет выбрать клавишу для отправки слова. Вы можете выбрать пробел или Enter (сделать это можно так же в настройках)";break;case"score":e="Тут отображаются ваши очки. Они могут не только возрастать, но так же и убывать, если вы отправите неверное слово.";break;case"time":e="Здесь отображается время (и его вечно не хватает), в зависимости от режима оно может: неумолимо убывать,  восстанавливаться, отображать соотношение очков команд";break;default:e="Суть игры в наборе слов на скорость, и опережении своих соперников. От режима к режиму условия победы разнятся, но цель всегда одна - быть самым быстрым";break}return e},words:function(){for(var e=[],t=0;t<3;t++)e.push("кисель".split("").map((function(e,t){return{lt:e,k:"class".concat(t)}})));return e}}},fe=pe,ge=(s("ad37"),Object(x["a"])(fe,he,ve,!1,null,"6b474440",null)),ye=ge.exports,ke={name:"App",components:{gameCore:E,playersView:X,AuthElelm:H,LiderBoard:ie,ServerView:me,guidBlock:ye},data:function(){return{guidShow:!1,words:[],points:0,add:!1,spaceMode:!0,anm:!1,animationMass:[],imgSource:{copy:(new Image).src="/static/img/copy.svg",oneMode:(new Image).src="/static/img/winner-with-trophy.svg",groupMode:(new Image).src="/static/img/team-success.svg",meVk:(new Image).src="/static/img/Z14OYN2y3oQ.jpg",AntonVk:(new Image).src="/static/img/O8Bh0uaTwhA.jpg",gear:(new Image).src="static/img/gear.svg",user:(new Image).src="static/img/user.svg",restart:(new Image).src="/static/img/restart.svg"},iAnm:!1,modsVotes:{single:0,endless:0,tugofwar:0,iron:0},countNum:0,modeHover:"",info:[{header:"Добро пожаловать в Ё",main:"Ну что же, вы в бете - поздравляю! Не знаю, каким образом вы зашли сюда, но я надеюсь, вам понравится. <br>Любите печатать? Так вот, если да, то вы в правильном месте! Выберите любой из 4-х режимов и вперёд! Пригласите друзей, чтобы посоревноваться в скорости/выносливости/напористости/аккуратности :)"},{header:"Загляните в настройки",main:"Не забудьте подстроить игру под себя! В настройках вы можете изменить клавишу для отправки слова (пробел/Enter),  <br>выбрать вид отображения слов, а также заглянуть в таблицу лидеров, чтобы посмотреть на достижения других и порадоваться, что вы не в самом низу :) <br>P.S. Если вы в самом низу, чтож... У вас есть прекрасная возможность попрактиковаться на нашем сайте!"}],settingsGet:!1,settingsShow:!1,anmSkip:!1,minimize:!1,gameMode:"single",connection:null,page:0,timer:600,startTimer:600,timeSpeed:1,timerCheck:600,playerLeft:{isLeft:!1},winnersMass:[],playerGuest:!1,online:!1,privateSession:!1,passwordSet:"",profileCheck:!1,profileEnter:0,copied:!1,nameShow:"",sessionId:"",ready:!1,players:[],teams:{red:{players:[],score:0,speed:0,name:"",tickets:50},blue:{players:[],score:0,speed:0,name:"",tickets:50}},finscreen:[],gameStart:!1,gameOver:!1,width:1e3,anonEnter:!1,infoTimeOut:null,timerInterval:null,myTeam:"red"}},methods:{anmOn:function(){var e=this;this.anm=!0,this.spaceMode=!this.spaceMode,localStorage.setItem("spaceMode",this.spaceMode),setTimeout((function(){e.anm=!1}),500)},backToTeamChose:function(){this.settingsGet=!1,this.page=5},authDone:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?(this.nameShow=e,this.anonEnter=!1,localStorage.removeItem("anonName"),this.page=1):this.page=0,this.profileEnter=0},copySrc:function(){var e=this;this.copied=!0,setTimeout((function(){e.copied=!1}),2e3)},onModeHover:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s?(this.modeHover=t,clearTimeout(this.infoTimeOut),this.infoTimeOut=null):this.infoTimeOut=setTimeout((function(){e.modeHover=""}),400)},distributePlayer:function(){this.teams.red.players=[],this.teams.blue.players=[];var e,t=Object(c["a"])(this.players);try{for(t.s();!(e=t.n()).done;){var s=e.value;s.username==this.nameShow&&(this.myTeam=s.team),this.teams[s.team].players.push(s)}}catch(a){t.e(a)}finally{t.f()}},setNextMode:function(e){this.connection.send(JSON.stringify({event:"vote",data:e}))},beginCounter:function(){for(var e=this,t=function(t){setTimeout((function(){e.countNum=t,new Audio("/static/sounds/gameCount".concat(t,".mp3")).play()}),1e3*(3-t))},s=3;s>-1;s--)t(s)},showEnterBlocks:function(e){this.profileEnter=e},logOut:function(){w.logout(),this.page=0,this.nameShow=""},changePage:function(e){5!=this.page&&4!=this.page||-1!=e?(this.page+=e,3!=this.page||this.online||(this.page=4),this.playerGuest&&("tugofwar"==this.gameMode&&1==this.page?(this.page=5,this.connectToSession()):(this.settingsGet=!0,this.connectToSession())),4==this.page&&this.createSession(),this.page>4&&!this.online&&!this.playerGuest&&(this.settingsGet=!0)):this.backToMenu()},setMode:function(e){this.modeHover=e,this.gameMode=e},decodeWord:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=Object(r["a"])(e);t&&(s=[e]);var a=0;return s=s.map((function(e){e=e.split("");for(var t=0;t<e.length;t++)e[t]={lt:e[t],pos:t,id:a++};return e})),s},createSession:function(){var e=this,t={mode:this.gameMode,name:this.nameShow};this.privateSession&&(t.password=this.passwordSet),this.online||(t.players_max=1),b.post("/api/sessions/",t).then((function(t){e.sessionId=t.data.session_id,e.connectToSession()}))},anonNameSend:function(){this.anonEnter=!0,localStorage.setItem("anonName",this.nameShow),this.playerGuest&&null===this.connection?(this.page=4,this.connectToSession(!0)):this.page=1},renew:function(){this.currentInput="",this.winnersMass=[],this.points=0,this.timeSpeed=1,this.players=[],this.timer=600,this.gameOver=!1,this.timerCheck=!1,this.startTimer=600,this.ready=!1,this.teams.blue.tickets=50,this.teams.red.tickets=50},animationScr:function(){for(var e=this,t=0;t<25;t++)setTimeout((function(){e.animationMass.push(1),e.animationMass[21]&&e.playerGuest&&null!=w.parsedAccessToken&&null===e.connection&&e.connectToSession(!0),e.animationMass[24]&&(e.anmSkip=!0)}),500*t)},changeTeam:function(e){this.connection.send(JSON.stringify({event:"switch_team",data:e}))},playerReady:function(){this.gameStart||(this.ready=!this.ready,this.connection.send(JSON.stringify({event:"ready",data:this.ready})))},connectToSession:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a,n,i,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=e.length>0&&void 0!==e[0]&&e[0],n=e.length>1&&void 0!==e[1]&&e[1],i={gm:n?n.mode.eng:t.gameMode,id:n?n.session_id:t.sessionId,at:null!=w.accessToken?"/"+w.accessToken+"/":"",pass:n?n.password:t.passwordSet,name:t.nameShow},"endless"===i.gm&&(t.timer=300,t.startTimer=300),o="".concat(i.gm,"/").concat(i.id).concat(i.at,"?username=").concat(i.name,"&password=").concat(i.pass),n&&(t.online=!0,t.playerGuest=!0,t.gameMode=i.gm),t.connection=new WebSocket("wss://yo-typing.ru//ws/play/"+o),t.connection.onopen=function(e){"tugofwar"!==t.gameMode&&(!t.online||a)?t.settingsGet=!0:t.page=5},t.connection.onmessage=function(e){var s,a=JSON.parse(e.data),o=a.data;switch(a.event){case"pass_correct":t.playerGuest&&n&&(o||t.backToMenu(),t.showServer(o,!o));break;case"words":t.words=t.decodeWord(o);break;case"new_word":(s=t.words).push.apply(s,Object(r["a"])(t.decodeWord(o.word?o.word:o,!0))),"endless"===i.gm&&(t.timerCheck=o.time_left);break;case"player_joined":t.players=o.players,"tugofwar"===t.gameMode&&t.distributePlayer();break;case"player_ready":t.players=o.players;break;case"player_left":t.gameOver?t.finscreen=o.players:(t.players=o.players,"tugofwar"==t.gameMode&&t.distributePlayer());break;case"team_switch":t.players=o.players,t.distributePlayer();break;case"username_switch":t.nameShow===o.old_username&&t.anonEnter&&(t.nameShow=o.new_username),t.players=o.players;break;case"get_ready":t.beginCounter();break;case"game_begins":t.timer=10*o,new Audio("/static/sounds/gameBegins.mp3").play(),t.gameStart=!0,"tugofwar"!==t.gameMode&&t.timerSet();break;case"tick":t.points!=o.score&&(t.add=!0,t.points+=o.score-t.points,setTimeout((function(){t.add=!1}),500)),t.timeSpeed=o.time_speed?o.time_speed:1,t.timerCheck=o.time_left?o.time_left:0,o.teams&&(t.teams=o.teams),t.players=o.players;break;case"player_out":t.players.length>1&&(t.playerLeft={isLeft:!0,username:o.username,score:100},t.nameShow==o.username&&(t.gameOver=!0,t.finscreen=o.players.filter((function(e){return e.out}))),setTimeout((function(){t.playerLeft.isLeft=!1}),10)),t.players=o.players;break;case"game_over":t.gameOver=!0,t.timer=0,t.gameStart=!1,t.ready=!1,t.players=[],t.finscreen=o.players,t.winnersMass=o.winners;break;case"modes":t.finscreen=o.players,t.modsVotes=o.votes;break;case"new_session":t.sessionId=o.new_session_id,t.gameMode=o.new_mode,t.renew(),"tugofwar"===o.new_mode&&(t.page=4,t.settingsGet=!1),t.connectToSession(!0);break;default:break}};case 9:case"end":return s.stop()}}),s)})))()},backToMenu:function(){this.gameOver=!1,this.settingsGet=!1,this.page=1,this.gameStart=!1,this.winnersMass=[],this.connection.close(),this.playerGuest=!1,this.currentInput="",this.points=0,this.players=[],this.timer=600,this.startTimer=600,clearInterval(this.timerInterval),this.timerCheck=600,this.timeSpeed=1,this.ready=!1,this.teams.blue.tickets=50,this.teams.red.tickets=50},showLiderboard:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0],arguments.length>1&&arguments[1];this.$refs.leaderBoard.getLeaderboard()},showServer:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$refs.server.getServersMass(e,t)},timerSet:function(){var e=this;this.timerInterval=setInterval((function(){e.timer<=0?clearInterval(e.timerInterval):!1!==e.timerCheck&&(Math.abs(e.timer-10*e.timerCheck)>12?e.timer=10*e.timerCheck:e.timer-=e.timeSpeed||1)}),100*this.timeSpeed)},urlParseConnect:function(){var e=window.location.pathname.split("/");e.length>2&&(this.sessionId=e[2],this.gameMode=e[1],this.playerGuest=!0,this.online=!0,window.history.replaceState({},document.title,"/"))}},computed:{tugCheck:function(){return!this.isThisMode.t||this.online||2!=this.page},isLogined:function(){return null!=w.parsedAccessToken},isMobile:function(){return this.width<1024},isThisMode:function(){return{s:"single"===this.gameMode,e:"endless"===this.gameMode,t:"tugofwar"===this.gameMode,b:"ironwall"===this.gameMode}},voteMods:function(){var e=this,t=[{name:"single",shName:"Стандартный"},{name:"endless",shName:"Бесконечный"},{name:"tugofwar",shName:"Перетягивание"},{name:"ironwall",shName:"Без ошибок"}];return t=t.filter((function(t){return t.name!=e.gameMode&&!("tugofwar"===t.name&&!e.online)})),t.unshift({name:this.gameMode,shName:"Заново"}),t},maxVotesMod:function(){var e={name:"",score:-1};for(var t in this.modsVotes)e=this.modsVotes[t]>e.score?{name:t,score:this.modsVotes[t]}:e;return e},playersSortByPoints:function(){var e=Object(r["a"])(this.finscreen);return e.sort((function(e,t){return t.score-e.score}))},ruMode:function(){var e="";switch(this.gameMode){case"endless":e="Бесконечный";break;case"tugofwar":e="Перетягивание";break;case"ironwall":e="Без ошибок";break;default:e="Стандартный";break}return e},thisPlayer:function(){var e=this;return this.finscreen.filter((function(t){return t.username==e.nameShow}))[0]},whatResult:function(){var e=this,t=this.finscreen.filter((function(t){return t.username==e.nameShow}));t=null!=t[0]?100*t[0].speed:0;var s="";return t<100?s="Бей по кнопкам блин":t<200?s="Учись":t<250?s="Печатная машинка":t<300?s="Молодцом":t<350?s="Ух как разогнался":t<400?s="Ты куда летишь?":t<450?s="Вы превысили, документики пожалуйста":t<500?s="Пожалей клавиатуру":t<550?s="Ты вообще успеваешь осмыслить?":t<600?s="Бан?":t<650?s="Ахахахах (что?)":t<700&&(s="Вы дошли до конца, но какой ценой?"),s}},watch:{gameOver:function(e){if(!e)for(var t in this.modsVotes)this.modsVotes[t]=0}},mounted:function(){var e=this;if(this.animationScr(),sessionStorage.getItem("anmSkip")){for(var t=0;t<23;t++)this.animationMass.push(1);this.anmSkip=!0}this.urlParseConnect(),null!=w.parsedAccessToken&&(this.playerGuest?this.page=4:this.page=1,this.nameShow=w.parsedAccessToken.username),this.width=window.innerWidth,localStorage.getItem("spaceMode")&&(this.spaceMode=JSON.parse(localStorage.getItem("spaceMode"))),localStorage.getItem("anonName")&&null===w.parsedAccessToken&&(this.nameShow=localStorage.getItem("anonName"),this.anonEnter=!0),window.addEventListener("resize",(function(){e.width=window.innerWidth}))},created:function(){var e=this,t=0,s=0;document.addEventListener("keyup",(function(a){if(27===a.keyCode)for(var n=0;n<20;n++)e.anmSkip=!0,sessionStorage.setItem("anmSkip",!0),e.animationMass.push(1);if(!e.settingsGet){if(38===a.keyCode||40===a.keyCode){if(1==e.page){t=38===a.keyCode?(t+(t<=0?3:-1))%4:(t+1)%4;var i="single";switch(Math.abs(t)){case 0:i="single",document.querySelector(".chose-mode").scrollTo({left:0,top:0,behavior:"smooth"});break;case 1:i="endless";break;case 2:i="tugofwar";break;case 3:document.querySelector(".chose-mode").scrollTo({left:0,top:100,behavior:"smooth"}),i="ironwall";break;default:i="single";break}e.setMode(i)}2==e.page&&(s=(38===a.keyCode?-1:1)%2,s=s<0?0:s,e.online=!!s),3==e.page&&(s=(38===a.keyCode?-1:1)%2,s=s<0?0:s,e.privateSession=!!s)}if(39===a.keyCode&&e.anmSkip)if(5==e.page)e.settingsGet=!0;else{if(!e.tugCheck)return;e.changePage(1)}37===a.keyCode&&e.page>1&&e.changePage(-1)}}))},beforeDestroy:function(){this.backToMenu()}},we=ke,_e=(s("5c0b"),Object(x["a"])(we,n,i,!1,null,null,null)),be=_e.exports,Ce=s("4eb5"),Se=s.n(Ce);a["a"].use(Se.a),a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(be)}}).$mount("#app")},"5afc":function(e,t,s){},"5c0b":function(e,t,s){"use strict";var a=s("9c0c"),n=s.n(a);n.a},"6d3d":function(e,t,s){"use strict";var a=s("af28"),n=s.n(a);n.a},"7fd8":function(e,t,s){},"85d2":function(e,t,s){},9606:function(e,t,s){"use strict";var a=s("a9a4"),n=s.n(a);n.a},9846:function(e,t,s){"use strict";var a=s("5afc"),n=s.n(a);n.a},"9c0c":function(e,t,s){},"9efb":function(e,t,s){},a9a4:function(e,t,s){},ad37:function(e,t,s){"use strict";var a=s("85d2"),n=s.n(a);n.a},af28:function(e,t,s){},b64e:function(e,t,s){"use strict";var a=s("9efb"),n=s.n(a);n.a},ce4d:function(e,t,s){},d899:function(e,t,s){"use strict";var a=s("7fd8"),n=s.n(a);n.a}});